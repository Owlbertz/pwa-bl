App.Store=(()=>{let a,b;return{open:function(){return new Promise((c,d)=>{b&&c(),a=indexedDB.open('bl-data',1),a.onupgradeneeded=f=>{let g=f.target.result;g.objectStoreNames.contains('data')||g.createObjectStore('data',{keyPath:'week'})},a.onsuccess=f=>{b=f.target.result,c()},a.onerror=f=>{void 0,d(f)}})},add:function(c,d,f){return new Promise((g,h)=>{let i=b.transaction(['data'],'readwrite'),j=i.objectStore('data');request=j.add({week:c,data:d,added:new Date}),request.onerror=k=>{h(k)},request.onsuccess=k=>{g()}})},get:function(c){return new Promise((d,f)=>{let g=b.transaction(['data'],'readonly'),h=g.objectStore('data'),i=h.get(c);i.onerror=j=>{f(j)},i.onsuccess=j=>{let k=j.target.result;k&&(k=k.data),void 0,d(k)}})}}})();