App.Store=function(){var e="bl-data",t=void 0,n=void 0;return{open:function(){return new Promise(function(o,r){n&&o(),t=indexedDB.open(e,1),t.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("data")||t.createObjectStore("data",{keyPath:"week"})},t.onsuccess=function(e){n=e.target.result,o()},t.onerror=function(e){void 0,r(e)}})},add:function(e,t,o){return new Promise(function(o,r){var a=n.transaction(["data"],"readwrite"),c=a.objectStore("data");request=c.add({week:e,data:t,added:new Date}),request.onerror=function(e){r(e)},request.onsuccess=function(e){o()}})},get:function(e){return new Promise(function(t,o){var r=n.transaction(["data"],"readonly"),a=r.objectStore("data"),c=a.get(e);c.onerror=function(e){o(e)},c.onsuccess=function(e){var n=e.target.result;n&&(n=n.data),void 0,t(n)}})}}}();