App.Predictions=function(){var e="bl-predictions",t=function(){var t=localStorage.getItem(e);if(!t)return{};try{var i=JSON.parse(t);for(var n in i){var a=i[n];a.date=new Date(a.date)}return r=i,i}catch(e){return void 0,{}}},r=t(),i=localStorage;return{isActive:function(){return!!i},getPredictions:function(){return r},getPrediction:function(e){return r[e]?r[e]:null},setPrediction:function(t,i){r[t]=i;try{var n=JSON.stringify(r);return localStorage.setItem(e,n),!0}catch(e){return void 0,!1}},render:function(e,t){var r=this,i=e.getAttribute("data-match-id"),n=e.classList.contains("ongoing"),a=e.classList.contains("finished"),o=r.getPrediction(i);o?(e.q(".prediction-team1").value=o.Team1,e.q(".prediction-team2").value=o.Team2,e.q(".prediciton-time").textContent=App.Util.dateParser(o.date),e.q(".prediction-time-container").classList.remove("hide")):e.q(".prediction-time-container").classList.add("hide"),(a||n)&&(e.q(".prediction-team1").setAttribute("disabled",!0),e.q(".prediction-team2").setAttribute("disabled",!0),e.q(".save-prediction-button").remove()),e.q("form").addEventListener("submit",function(t){t.preventDefault();var n={Team1:e.q(".prediction-team1").value,Team2:e.q(".prediction-team2").value,date:new Date};if(n.Team1||n.Team2){var a=r.setPrediction(i,n);a?r.render():void 0}})}}}();