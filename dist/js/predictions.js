App.Predictions=function(){return{render:function(e,t){var i=this,n=e.getAttribute("data-match-id"),o=e.classList.contains("ongoing"),r=e.classList.contains("finished"),a=e.q(".predictions");App.Store.open("predictions").then(function(){return App.Store.get("predictions",n)}).then(function(e){e?(a.q(".team1").value=e.team1,a.q(".team2").value=e.team2,a.q(".time").textContent=App.Util.dateParser(e.date),a.q(".time-container").classList.remove("hide")):a.q(".time-container").classList.add("hide")}),(r||o)&&(a.q(".team1").setAttribute("disabled",!0),a.q(".team1").removeAttribute("required"),a.q(".team2").setAttribute("disabled",!0),a.q(".team2").removeAttribute("required"),a.q(".save-prediction-button").remove()),e.q("form").on("submit",function(o){o.preventDefault();var r={team1:parseInt(a.q(".team1").value),team2:parseInt(a.q(".team2").value),date:new Date};"undefined"!=typeof r.team1&&"undefined"!=typeof r.team2&&(new Date(t.MatchDateTime)<new Date&&(App.showNotice?App.showNotice("Prediction not possible."):void 0),App.Store.open("predictions").then(function(){return App.Store.add("predictions",n,r)}).then(function(){App.showNotice&&App.showNotice("Saving successful."),i.render(e,t)},function(e){App.showNotice?App.showNotice("An error occured."):void 0}))})}}}();