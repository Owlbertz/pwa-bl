App.Predictions=function(){var e="bl-predictions",t=function(){var t=localStorage.getItem(e);if(!t)return{};try{var i=JSON.parse(t);for(var n in i){var o=i[n];o.date=new Date(o.date)}return r=i,i}catch(e){return console.error("Failed to parse JSON:",e),{}}},r=t(),i=localStorage;return{isActive:function(){return!!i},getPredictions:function(){return r},getPrediction:function(e){return r[e]?r[e]:null},setPrediction:function(t,i){r[t]=i;try{var n=JSON.stringify(r);return localStorage.setItem(e,n),!0}catch(e){return console.error("Failed to stringify JSON:",e),!1}},render:function(e,t){var r=this,i=e.getAttribute("data-match-id"),n=e.classList.contains("ongoing"),o=e.classList.contains("finished"),a=r.getPrediction(i);a?(e.querySelector(".prediction-team1").value=a.Team1,e.querySelector(".prediction-team2").value=a.Team2,e.querySelector(".prediciton-time").textContent=App.Util.dateParser(a.date),e.querySelector(".prediction-time-container").classList.remove("hide")):e.querySelector(".prediction-time-container").classList.add("hide"),(o||n)&&(e.querySelector(".prediction-team1").setAttribute("disabled",!0),e.querySelector(".prediction-team2").setAttribute("disabled",!0),e.querySelector(".save-prediction-button").remove()),e.querySelector("form").addEventListener("submit",function(t){t.preventDefault();var n={Team1:e.querySelector(".prediction-team1").value,Team2:e.querySelector(".prediction-team2").value,date:new Date};if(n.Team1||n.Team2){var o=r.setPrediction(i,n);o?r.render():alert("An error occured.")}})}}}();